<mat-form-field
  [id]="field.id + '-datepicker-form-field'"
  [ngClass]="field.className"
  [appearance]="field.props['appearance'] ?? 'outline'"
  [floatLabel]="field.props['floatLabel'] ?? 'always'"
  color="primary"
>
  <mat-label class="datepicker-label">{{ label }}</mat-label>
  <input
    [id]="field.id + '-datepicker-input-field'"
    class="datepicker-input"
    matInput
    [required]="!!props.required"
    [placeholder]="field.props['placeholder'] ?? 'Bitte eingeben'"
    [matDatepicker]="picker"
    [formControl]="formControl"
    [formlyAttributes]="field"
    [min]="minDate()"
    [max]="maxDate()"
    (input)="onRawInput($event)"
  />

  <mat-hint class="datepicker-hint">
    {{ hint }}
  </mat-hint>

    <mat-error>
      @if (customErrorMessage) {
        {{ customErrorMessage }}
      } @else {
        <formly-validation-message [field]="field"></formly-validation-message>
      }
    </mat-error>

  <mat-datepicker-toggle
    matIconSuffix
    [for]="picker"
    (click)="onDatepickerToggleClick()"
    (keydown)="onDatepickerToggleClick()"
  ></mat-datepicker-toggle>

  <mat-datepicker
    #picker
    [startView]="calendarStartView"
    [calendarHeaderComponent]="datepickerHeader"
    class="datepicker-content"
    (monthSelected)="onMonthSelected($event)"
    (yearSelected)="onYearSelected($event)"
  >
  </mat-datepicker>
</mat-form-field>

